### At the moment we have a pretty basic icon system for combat tactics showing
### the uniticon which has the biggest bonus value in the tactic.
### This is the sprite number for each unit:
##### 1=LI 2=HI 3=PIKE 4=LC 5=KNIGHTS 6=ARCHERS 7=HORSE ARCH 8=NOMAD 9=HOLY 10=SHIELD

# Must be first in file. This tactic will be set if anything goes wrong
no_tactic = {
	days = 1 # tactic lasts one day
	sprite = 2 # index of icon

	trigger = {
		always = no # never use unless set explicitly by code
	}
}

generic_skirmish_tactic = {
	days = 18 # tactic lasts one day
	sprite = 4 # index of icon
	group = skirmish

	trigger = {
		phase = skirmish
	}

	mean_time_to_happen = {
		days = 3

		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 8 } } }
		}
	}



}

harass_tactic = {
	days = 18
	sprite = 4
	group = harass

	trigger = {
		phase = skirmish
		light_cavalry_units_005_tactic_trigger = yes
		NOT = {
			horse_archers = 0.5
		}
		OR = {
			NOT = {
				light_cavalry_units_050_tactic_trigger = yes
			}
			AND = {
				flank_has_leader = yes
				leader = { Martial = 12 }
				NOT = {
					light_cavalry_units_080_tactic_trigger = yes
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 2
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_cavalry_troops_030_tactic_trigger = yes
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_cavalry_troops_040_tactic_trigger = yes
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_cavalry_troops_050_tactic_trigger = yes
		}
	}
	
	# horse_archers
	horse_archers_offensive = -1.5
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = -1.5
	archmage_offensive = -1.5

	# light_cavalry
	light_cavalry_offensive = 3
	animals_offensive = 3
	light_cavalry_defensive = -0.4
	animals_defensive = -0.4
	
	# archers
	archers_offensive = -1.5
	siege_machines_offensive = -1.5

	enemy = {
		group = swarm
		factor = 1
	}
}

disorganised_harass_tactic = {
	days = 18
	sprite = 4
	group = harass

	trigger = {
		phase = skirmish
		light_cavalry_units_040_tactic_trigger = yes
		OR = {
			flank_has_leader = no
			NOT = { leader = { Martial = 12 } }
			light_cavalry_units_080_tactic_trigger = yes
		}
		NOT = {
			horse_archers = 0.5
		}
	}

	mean_time_to_happen = {
		days = 2
		modifier = {
			factor = 1.5
			light_cavalry_troops_050_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			light_cavalry_troops_070_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			light_cavalry_troops_090_tactic_trigger = yes
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 8 } } }
		}
	}
	
	# horse_archers
	horse_archers_offensive = -1.5
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = -1.5
	archmage_offensive = -1.5
	
	# light_cavalry
	light_cavalry_offensive = 1.0
	animals_offensive = 1.0
	light_cavalry_defensive = -0.6
	animals_defensive = -0.6
	
	# archers
	archers_offensive = -1.5
	siege_machines_offensive = -1.5
	
	enemy = {
		group = swarm
		factor = 1
	}
}

volly_harass_tactic = {
	days = 18
	sprite = 4
	group = harass

	trigger = {
		phase = skirmish
		light_cavalry_units_005_tactic_trigger = yes
		OR = {
			light_infantry_units_005_tactic_trigger = yes
			archers_units_005_tactic_trigger = yes
		}
		light_infantry_units_030_tactic_trigger = no
		archers_units_030_tactic_trigger = no
		heavy_infantry_units_010_tactic_trigger = yes
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_infantry_troops_020_tactic_trigger = yes
				archers_troops_020_tactic_trigger = yes
			}
			heavy_infantry_troops_040_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_infantry_troops_020_tactic_trigger = yes
				archers_troops_020_tactic_trigger = yes
			}
			heavy_infantry_troops_040_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_infantry_troops_020_tactic_trigger = yes
				archers_troops_020_tactic_trigger = yes
			}
			heavy_infantry_troops_040_tactic_trigger = yes
		}
	}
	
	# horse_archers
	horse_archers_offensive = -1.8
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = 0.6
	archmage_offensive = 0.6
	
	# heavy_infantry
	heavy_infantry_offensive = 0.8
	undead_offensive = 0.8
	swarm_offensive = 0.8
	thralls_offensive = 0.8
	elite_infantry_offensive = 0.8

	# light_cavalry
	light_cavalry_offensive = 1.0
	animals_offensive = 1.0
	
	# archers
	archers_offensive = 0.6
	siege_machines_offensive = 0.6

	enemy = {
		group = swarm
		factor = 1
	}
}

volley_tactic = {
	days = 18
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish
		OR = {
			light_infantry_units_005_tactic_trigger = yes
			archers_units_005_tactic_trigger = yes
		}
		light_infantry_units_040_tactic_trigger = no
		archers_units_040_tactic_trigger = no
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_infantry_troops_010_tactic_trigger = yes
				archers_troops_010_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_infantry_troops_020_tactic_trigger = yes
				archers_troops_020_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_infantry_troops_030_tactic_trigger = yes
				archers_troops_030_tactic_trigger = yes
			}
		}
	}
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = 2.0
	archmage_offensive = 2.0
	
	# horse_archers
	horse_archers_offensive = -1.5

	# light_cavalry
	light_cavalry_offensive = -1.5
	animals_offensive = -1.5
	
	# archers
	archers_offensive = 2.0
	siege_machines_offensive = 2.0
	
	enemy = {
		group = harass
		factor = 1
	}
}

swarm_volley_tactic = {
	days = 18
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish 
		OR = {
			light_infantry_units_005_tactic_trigger = yes
			archers_units_005_tactic_trigger = yes
		}
		horse_archers = 0.01

		location = { 
			NOT = { terrain = forest }
			NOT = { terrain = woods }
			NOT = { terrain = mountain }
			NOT = { terrain = impassable_mountains }
			NOT = { terrain = jungle }
			NOT = { terrain = marsh }
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_infantry_troops_070_tactic_trigger = yes
				archers_troops_070_tactic_trigger = yes
			}
			light_troops = { 
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_infantry_troops_060_tactic_trigger = yes
				archers_troops_060_tactic_trigger = yes
			}
			light_troops = { 
				who = horse_archers
				value = 0.3
			}
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_infantry_troops_050_tactic_trigger = yes
				archers_troops_050_tactic_trigger = yes
			}
			light_troops = { 
				who = horse_archers
				value = 0.3
			}
		}	
	}
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = 1.2
	archmage_offensive = 1.2

	# horse_archers
	horse_archers_offensive = 0.6

	# light_cavalry
	light_cavalry_offensive = -1.8
	animals_offensive = -1.8

	# archers
	archers_offensive = 1.2
	siege_machines_offensive = 1.2

	enemy = {
		group = harass
		factor = 1
	}
}

swarm_tactic = {
	days = 18
	sprite = 7
	group = swarm

	trigger = {
		phase = skirmish
		horse_archers = 0.01
		OR = {
			NOT = { horse_archers = 0.35 }
			AND = {
				flank_has_leader = yes
				leader = { Martial = 12 }
				NOT = { horse_archers = 0.65 }
			}
		}
		location = { 
			NOT = { terrain = forest }
			NOT = { terrain = woods }
			NOT = { terrain = mountain }
			NOT = { terrain = impassable_mountains }
			NOT = { terrain = jungle }
			NOT = { terrain = marsh }
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = { 
				who = horse_archers
				value = 0.2
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = { 
				who = horse_archers
				value = 0.3
			}
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = { 
				who = horse_archers
				value = 0.4
			}
		}	
	}
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = -1.5
	archmage_offensive = -1.5

	# horse_archers
	horse_archers_offensive = 1.0

	# light_cavalry
	light_cavalry_offensive = -1.5
	animals_offensive = -1.5

	# archers
	archers_offensive = -1.5
	siege_machines_offensive = -1.5

	enemy = {
		group = volley
		factor = 1
	}
}

disorganised_swarm_tactic = {
	days = 18
	sprite = 7
	group = swarm

	trigger = {
		phase = skirmish
		horse_archers = 0.30
		OR = {
			flank_has_leader = no
			NOT = { leader = { Martial = 12 } }
			horse_archers = 0.5
		}
		location = { 
			NOT = { terrain = forest }
			NOT = { terrain = woods }
			NOT = { terrain = mountain }
			NOT = { terrain = impassable_mountains }
			NOT = { terrain = jungle }
			NOT = { terrain = marsh }
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			light_troops = { 
				who = horse_archers
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			light_troops = { 
				who = horse_archers
				value = 0.7
			}
		}	
		modifier = {
			factor = 1.5
			light_troops = { 
				who = horse_archers
				value = 0.9
			}
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 8 } } }
		}
	}
	
	# horse_archers
	horse_archers_offensive = 0.5
	horse_archers_defensive = -1.0
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = -1.5
	archmage_offensive = -1.5

	# light_cavalry
	light_cavalry_offensive = -1.5
	animals_offensive = -1.5

	# archers
	archers_offensive = -1.5
	siege_machines_offensive = -1.5
}

harras_swarm_tactic = {
	days = 18
	sprite = 7
	group = swarm

	trigger = {
		phase = skirmish 
		horse_archers = 0.01
		OR = {
			NOT = { horse_archers = 0.35 }
			AND = {
				flank_has_leader = yes
				leader = { Martial = 12 }
				NOT = { horse_archers = 0.65 }
			}
		}
		location = { 
			NOT = { terrain = forest }
			NOT = { terrain = woods }
			NOT = { terrain = mountain }
			NOT = { terrain = impassable_mountains }
			NOT = { terrain = jungle }
			NOT = { terrain = marsh }
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = { 
				who = horse_archers
				value = 0.2
			}
			light_cavalry_troops_030_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = { 
				who = horse_archers
				value = 0.3
			}
			light_cavalry_troops_030_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = { 
				who = horse_archers
				value = 0.4
			}
			light_cavalry_troops_030_tactic_trigger = yes
		}
	}
	
	# horse_archers
	horse_archers_offensive = 1.2
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = -1.8
	archmage_offensive = -1.8

	# light_cavalry
	light_cavalry_offensive = 0.6
	animals_offensive = 0.6
	
	# archers
	archers_offensive = -1.8
	siege_machines_offensive = -1.8
	
	enemy = {
		group = volley
		factor = 1
	}
}

shieldwall_tactic = {
	days = 12
	sprite = 10
	group = defensive

	trigger = {
		phase = skirmish
		OR = {
			heavy_infantry_units_020_tactic_trigger = yes
			light_infantry_units_020_tactic_trigger = yes # replaces vanilla pikemen
		}
		OR = {
			light_infantry_units_005_tactic_trigger = yes
			archers_units_005_tactic_trigger = yes
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = { # replaces vanilla pikemen
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_infantry_troops_030_tactic_trigger = yes
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_infantry_troops_030_tactic_trigger = yes
		}
		modifier = { # replaces vanilla pikemen
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_infantry_troops_030_tactic_trigger = yes
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_infantry_troops_030_tactic_trigger = yes
		}
	}
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_defensive = 2.4
	archmage_defensive = 2.4

	# heavy_infantry # average of vanilla light_infantry and heavy_infantry
	heavy_infantry_defensive = 2.1
	undead_defensive = 2.1
	elite_infantry_defensive = 2.1
	swarm_defensive = 2.1
	thralls_defensive = 2.1
	
	# pikemen # replaces vanilla knights
	pikemen_defensive = -0.5
	war_machines_defensive = -0.5

	# light_cavalry
	light_cavalry_defensive = -0.5
	animals_defensive = -0.5
	horse_archers_defensive = -0.5
	
	# knights # replaces vanilla knights
	knights_offensive = -0.5
	dragons_offensive = -0.5
	
	# archers
	archers_offensive = 0.6
	siege_machines_offensive = 0.6
}

fient_tactic = {
	days = 12
	sprite = 10 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		heavy_infantry_units_020_tactic_trigger = yes
		OR = {
			light_infantry_units_020_tactic_trigger = yes
			archers_units_020_tactic_trigger = yes
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_infantry_troops_030_tactic_trigger = yes
				archers_troops_030_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_infantry_troops_040_tactic_trigger = yes
		}
	}
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = 1.5
	archmage_offensive = 1.5
	
	# heavy_infantry # average of vanilla light_infantry and heavy_infantry
	heavy_infantry_offensive = 0.25
	undead_offensive = 0.25
	elite_infantry_offensive = 0.25
	swarm_offensive = 0.25
	thralls_offensive = 0.25
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = -0.5
	war_machines_offensive = -0.5
	pikemen_defensive = -0.5
	war_machines_defensive = -0.5
	
	# archers
	archers_offensive = 1.5
	siege_machines_offensive = 1.5
	
	# knights # replaces vanilla knights
	knights_offensive = -0.5
	dragons_offensive = -0.5
	knights_defensive = -0.5
	dragons_defensive = -0.5
}



prepare_tactic = {
	days = 1
	sprite = 10
	group = defensive
		
	trigger = {
		phase = skirmish
		days = 15
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 8
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 12
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 16
			}
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 8 } } }
		}
	}

	change_phase_to = melee
}

charge_on_undefended_tactic = {
	days = 2
	sprite = 5
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 3 # duration of combat >= 3 days
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 100
			enemy = {
				OR = {
					light_cavalry_troops_060_tactic_trigger = yes
					archers_troops_060_tactic_trigger = yes
				}
			}
		}
	}

	change_phase_to = melee
}

charge_of_opportunity_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge

	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
	}

	mean_time_to_happen = {
		days = 3 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
	}

	change_phase_to = melee

	# horse_archers
	horse_archers_offensive = 3
	
	# heavy_infantry
	heavy_infantry_offensive = 1.2
	undead_offensive = 1.2
	elite_infantry_offensive = 1.2
	swarm_offensive = 1.2
	thralls_offensive = 1.2
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = 3
	war_machines_offensive = 3
	
	# knights # replaces vanilla knights
	knights_offensive = 3
	dragons_offensive = 3
}

charge_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = { # replaces vanilla knights
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				pikemen_troops_010_tactic_trigger = yes
				knights_troops_010_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_infantry_troops_010_tactic_trigger = yes
		}
	}

	change_phase_to = melee
	
	# horse_archers
	horse_archers_offensive = 3
	
	# heavy_infantry
	heavy_infantry_offensive = 1.2
	undead_offensive = 1.2
	elite_infantry_offensive = 1.2
	swarm_offensive = 1.2
	thralls_offensive = 1.2
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = 3
	war_machines_offensive = 3

	# knights # replaces vanilla knights
	knights_offensive = 3
	dragons_offensive = 3
}

wait_tactic = {
	days = 1
	sprite = 2
	group = stand_fast

	trigger = {
		phase = melee
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 8
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 12
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 16
			}
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_MELEE = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_MELEE = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_MELEE = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_MELEE = 8 } } }
		}
	}
}

advance_tactic = {
	days = 18
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		heavy_infantry_units_005_tactic_trigger = yes
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_infantry_troops_070_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_infantry_troops_060_tactic_trigger = yes
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_infantry_troops_050_tactic_trigger = yes
		}	
	}
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = -1.5
	archmage_offensive = -1.5
	
	# heavy_infantry
	heavy_infantry_offensive = 3
	undead_offensive = 3
	elite_infantry_offensive = 3
	swarm_offensive = 3
	thralls_offensive = 3
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = -1.5
	war_machines_offensive = -1.5

	# knights # replaces vanilla knights
	knights_offensive = -1.5
	dragons_offensive = -1.5
	
	enemy = {
		group = stand_fast
		factor = 3
	}
}

awesome_advance_tactic = {
	days = 18
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		heavy_infantry_units_005_tactic_trigger = yes
		OR = {
			pikemen_units_005_tactic_trigger = yes
			knights_units_005_tactic_trigger = yes
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 9
			}
			heavy_infantry_troops_070_tactic_trigger = yes
			OR = {
				pikemen_troops_030_tactic_trigger = yes
				knights_troops_030_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 13
			}
			heavy_infantry_troops_060_tactic_trigger = yes
			OR = {
				pikemen_troops_030_tactic_trigger = yes
				knights_troops_030_tactic_trigger = yes
			}
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 17
			}
			heavy_infantry_troops_050_tactic_trigger = yes
			OR = {
				pikemen_troops_030_tactic_trigger = yes
				knights_troops_030_tactic_trigger = yes
			}
		}	
	}
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = -1.8
	archmage_offensive = -1.8
	
	# heavy_infantry
	heavy_infantry_offensive = 2.4
	undead_offensive = 2.4
	elite_infantry_offensive = 2.4
	swarm_offensive = 2.4
	thralls_offensive = 2.4

	# pikemen # replaces vanilla knights
	pikemen_offensive = 0.6
	war_machines_offensive = 0.6
	
	# knights # replaces vanilla knights
	knights_offensive = 0.6
	dragons_offensive = 0.6

	enemy = {
		group = stand_fast
		factor = 3
	}
}

stand_fast_tactic = {
	days = 18
	sprite = 1
	group = stand_fast

	trigger = {
		phase = melee
		light_infantry_units_005_tactic_trigger = yes # replaces vanilla pikemen
		location = {
			terrain = forest
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = { # replaces vanilla pikemen
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_infantry_troops_070_tactic_trigger = yes
		}
		modifier = { # replaces vanilla pikemen
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_infantry_troops_060_tactic_trigger = yes
		}
		modifier = { # replaces vanilla pikemen
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_infantry_troops_050_tactic_trigger = yes
		}
	}
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = 3
	archmage_offensive = 3
	
	# heavy_infantry
	heavy_infantry_offensive = -1.5
	undead_offensive = -1.5
	elite_infantry_offensive = -1.5
	swarm_offensive = -1.5
	thralls_offensive = -1.5
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = -1.5
	war_machines_offensive = -1.5
	
	# knights # replaces vanilla knights
	knights_offensive = -1.5
	dragons_offensive = -1.5

	enemy = {
		group = charge
		factor = 3
	}
}

slow_advance_tactic = {
	days = 18
	sprite = 1
	group = stand_fast

	trigger = {
		phase = melee
		light_infantry_units_005_tactic_trigger = yes # replaces vanilla pikemen
		heavy_infantry_units_005_tactic_trigger = yes
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_infantry_troops_070_tactic_trigger = yes # replaces vanilla pikemen
			heavy_infantry_troops_030_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_infantry_troops_060_tactic_trigger = yes # replaces vanilla pikemen
			heavy_infantry_troops_030_tactic_trigger = yes
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_infantry_troops_050_tactic_trigger = yes # replaces vanilla pikemen
			heavy_infantry_troops_030_tactic_trigger = yes
		}
	}
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = 2.4
	archmage_offensive = 2.4

	# heavy_infantry
	heavy_infantry_offensive = 0.6
	undead_offensive = 0.6
	elite_infantry_offensive = 0.6
	swarm_offensive = 0.6
	thralls_offensive = 0.6
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = -1.8
	war_machines_offensive = -1.8
	
	# knights # replaces vanilla knights
	knights_offensive = -1.8
	dragons_offensive = -1.8

	enemy = {
		group = charge
		factor = 3
	}
}

awesome_charge_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		OR = {
			pikemen_units_005_tactic_trigger = yes
			knights_units_005_tactic_trigger = yes
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				pikemen_troops_070_tactic_trigger = yes
				knights_troops_070_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				pikemen_troops_060_tactic_trigger = yes
				knights_troops_060_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				pikemen_troops_050_tactic_trigger = yes
				knights_troops_050_tactic_trigger = yes
			}
		}
	}
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = -1.5
	archmage_offensive = -1.5
	
	# heavy_infantry
	heavy_infantry_offensive = -1.5
	undead_offensive = -1.5
	elite_infantry_offensive = -1.5
	swarm_offensive = -1.5
	thralls_offensive = -1.5
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = 3
	war_machines_offensive = 3
	
	# knights # replaces vanilla knights
	knights_offensive = 3
	dragons_offensive = 3

	enemy = {
		group = advance
		factor = 3
	}
}

awesomer_charge_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee 
		OR = {
			pikemen_units_005_tactic_trigger = yes
			knights_units_005_tactic_trigger = yes
		}
		light_infantry_units_005_tactic_trigger = yes # replaces vanilla pikemen
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 9
			}
			OR = {
				pikemen_troops_070_tactic_trigger = yes
				knights_troops_070_tactic_trigger = yes
			}
			light_infantry_troops_030_tactic_trigger = yes # replaces vanilla pikemen
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 13
			}
			OR = {
				pikemen_troops_060_tactic_trigger = yes
				knights_troops_060_tactic_trigger = yes
			}
			light_infantry_troops_030_tactic_trigger = yes # replaces vanilla pikemen
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 17
			}
			OR = {
				pikemen_troops_050_tactic_trigger = yes
				knights_troops_050_tactic_trigger = yes
			}
			light_infantry_troops_030_tactic_trigger = yes # replaces vanilla pikemen
		}
	}
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = 0.6
	archmage_offensive = 0.6
	
	# heavy_infantry
	heavy_infantry_offensive = -1.8
	undead_offensive = -1.8
	elite_infantry_offensive = -1.8
	swarm_offensive = -1.8
	thralls_offensive = -1.8

	# pikemen # replaces vanilla knights
	pikemen_offensive = 2.4
	war_machines_offensive = 2.4
	
	# knights # replaces vanilla knights
	knights_offensive = 2.4
	dragons_offensive = 2.4
	
	enemy = {
		group = advance
		factor = 3
	}
}

barrage_tactic = {
	days = 6
	sprite = 6 # index of icon
	group = defensive

	trigger = {
		phase = melee
		OR = {
			light_infantry_units_020_tactic_trigger = yes
			archers_units_020_tactic_trigger = yes
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_cavalry_troops_030_tactic_trigger = yes
				archers_troops_030_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
	}
	
	# horse_archers
	horse_archers_offensive = 2.4
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = 2.4
	archmage_offensive = 2.4
	
	# archers
	archers_offensive = 2.4
	siege_machines_offensive = 2.4
}

raid_tactic = {
	days = 6
	sprite = 10
	group = defensive
	
	trigger = {
		phase = melee
		light_cavalry_units_020_tactic_trigger = yes
		NOT = {
			horse_archers = 0.5
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_cavalry_troops_030_tactic_trigger = yes
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_infantry_troops_030_tactic_trigger = yes
		}
	}
	
	# heavy_infantry # 0.5 of vanilla light_infantry
	heavy_infantry_offensive = 1.2
	undead_offensive = 1.2
	elite_infantry_offensive = 1.2
	swarm_offensive = 1.2
	thralls_offensive = 1.2
	
	# light_cavalry
	light_cavalry_offensive = 2.4
	animals_offensive = 2.4
}

pursue_tactic = {
	days = 15
	sprite = 4
	group = charge
	
	trigger = {
		phase = pursue
	}

	mean_time_to_happen = {
		days = 10
	}
}

#########################
# Combat Flavor Tactics #
#########################

# Bad Tactics

reckless_charge_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
		flank_has_leader = yes
		leader = {
			OR = {
				trait = aggressive_leader
				trait = wroth
			}
		}		
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			OR = {
				pikemen_troops_010_tactic_trigger = yes
				knights_units_010_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			heavy_infantry_troops_010_tactic_trigger = yes
		}
	}

	change_phase_to = melee
	
	# horse_archers
	horse_archers_defensive = -0.5
	horse_archers_offensive = 1.2
	
	# heavy_infantry
	heavy_infantry_offensive = 0.6
	undead_offensive = 0.6
	elite_infantry_offensive = 0.6
	swarm_offensive = 0.6
	thralls_offensive = 0.6
	heavy_infantry_defensive = -0.3
	undead_defensive = -0.3
	elite_infantry_defensive = -0.3
	swarm_defensive = -0.3
	thralls_defensive = -0.3
	
	# pikemen # replaces vanilla knights
	knights_defensive = -0.5
	war_machines_defensive = -0.5
	knights_offensive = 1.2
	war_machines_offensive = 1.2

	# knights # replaces vanilla knights
	knights_defensive = -0.5
	dragons_defensive = -0.5
	knights_offensive = 1.2
	dragons_offensive = 1.2
}


timid_advance_tactic = {
	days = 18
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		heavy_infantry_units_005_tactic_trigger = yes
		flank_has_leader = yes
		leader = {
			OR = {
				trait = craven
				trait = organizer
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			heavy_infantry_troops_050_tactic_trigger = yes
		}	
	}
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = 1.2
	archmage_offensive = 1.2
	
	# heavy_infantry
	heavy_infantry_offensive = -2.1
	undead_offensive = -2.1
	elite_infantry_offensive = -2.1
	swarm_offensive = -2.1
	thralls_offensive = -2.1
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = -2.1
	war_machines_offensive = -2.1
	
	# knights # replaces vanilla knights
	knights_offensive = -2.1
	dragons_offensive = -2.1
	
	enemy = {
		group = stand_fast
		factor = 1.2
	}
}

confused_orders_tactic = {
	days = 18
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish  
		OR = {
			light_infantry_units_005_tactic_trigger = yes
			archers_units_005_tactic_trigger = yes
		}
		flank_has_leader = yes
		leader = {
			OR = {
				trait = lisp
				trait = stutter
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			OR = {
				light_infantry_troops_050_tactic_trigger = yes
				archers_troops_050_tactic_trigger = yes
			}
		}
	}
	
	# horse_archers
	horse_archers_offensive = -1.2
	
	# light_infantry # get modifiers of archers
	light_infantry_offensive = -1.2
	archmage_offensive = -1.2

	# archers
	archers_offensive = -1.2
	siege_machines_offensive = -1.2
	
	enemy = {
		group = charge
		factor = -1.2
	}
}

hesitant_commander_tactic = {
	days = 18
	sprite = 1
	group = stand_fast

	trigger = {
		phase = melee
		flank_has_leader = yes
		leader = {
			OR = {
				trait = slothful
				trait = shy
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
		}
	}
	
	# heavy_infantry
	heavy_infantry_offensive = -1.5
	undead_offensive = -1.5
	elite_infantry_offensive = -1.5
	swarm_offensive = -1.5
	thralls_offensive = -1.5
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = -1.5
	war_machines_offensive = -1.5

	# knights # replaces vanilla knights
	knights_offensive = -1.5
	dragons_offensive = -1.5
}

charging_own_skirmishers_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
		flank_has_leader = yes
		leader = { trait = cruel }
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 10 }
			}
			OR = {
				pikemen_troops_010_tactic_trigger = yes
				knights_troops_010_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 10 }
			}
			light_cavalry_troops_010_tactic_trigger = yes
		}
	}

	change_phase_to = melee
	
	# horse_archers
	horse_archers_defensive = -0.3
	horse_archers_offensive = -1.2
	
	# light_infantry # get modifiers of archers
	light_infantry_defensive = -0.5
	archmage_defensive = -0.5
	light_infantry_offensive = -4.2
	archmage_offensive = -4.2
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = 3
	war_machines_offensive = 3
	
	# light_cavalry
	light_cavalry_offensive = 1.8
	animals_offensive = 1.8
	
	# knights # replaces vanilla knights
	knights_offensive = 3
	dragons_offensive = 3
	
	# archers
	archers_defensive = -0.5
	siege_machines_defensive = -0.5
	archers_offensive = -4.2
	siege_machines_offensive = -4.2
}

# Good tactics

inspired_defense_tactic = {
	days = 12
	sprite = 10 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		flank_has_leader = yes
		leader = {
			OR = {
				trait = inspiring_leader
				trait = defensive_leader
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 14
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = defensive_leader
			}
		}
	}
	
	# horse_archers
	horse_archers_defensive = 1.5
	
	# large_cavalry
	large_cavalry_defensive = 1.5
	
	# light_infantry
	light_infantry_defensive = 1.5
	archmage_defensive = 1.5
	
	# heavy_infantry
	heavy_infantry_defensive = 1.5
	undead_defensive = 1.5
	elite_infantry_defensive = 1.5
	swarm_defensive = 1.5
	thralls_defensive = 1.5
	
	# pikemen
	pikemen_defensive = 1.5
	war_machines_defensive = 1.5
	
	# light_cavalry
	light_cavalry_defensive = 1.5
	animals_defensive = 1.5
	
	# knights
	knights_defensive = 1.5
	dragons_defensive = 1.5
	
	# archers
	archers_defensive = 1.5
	siege_machines_defensive = 1.5
	
	enemy = {
		group = charge
		factor = 1.2
	}
	enemy = {
		group = advance
		factor = 0.6
	}
}

heroic_countercharge_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee 
		OR = {
			pikemen_units_005_tactic_trigger = yes
			knights_units_005_tactic_trigger = yes
		}
		light_cavalry_units_005_tactic_trigger = yes
		flank_has_leader = yes
		leader = {
			OR = {
				trait = aggressive_leader
				trait = brave
				trait = cavalry_leader
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			OR = {
				pikemen_troops_010_tactic_trigger = yes
				knights_troops_010_tactic_trigger = yes
			}
		}
	}
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = 0.6
	archmage_offensive = 0.6
	
	# heavy_infantry
	heavy_infantry_offensive = 0.6
	undead_offensive = 0.6
	elite_infantry_offensive = 0.6
	swarm_offensive = 0.6
	thralls_offensive = 0.6
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = 3.6
	war_machines_offensive = 3.6
	
	# light_cavalry
	light_cavalry_offensive = 3.6
	animals_offensive = 3.6
	
	# knights # replaces vanilla knights
	knights_offensive = 3.6
	dragons_offensive = 3.6

	enemy = {
		group = charge
		factor = 3
	}
}
glorious_countercharge_tactic = { #Call to Glory tactic. - Generic
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee 
		OR = {
			light_cavalry_units_005_tactic_trigger = yes
			heavy_infantry_units_005_tactic_trigger = yes
			light_infantry_units_005_tactic_trigger = yes
			horse_archers = 0.01
		}
		flank_has_leader = yes
		leader = {
			has_character_modifier = call_to_glory
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			light_cavalry_troops_010_tactic_trigger = yes
		}
	}
	
	# horse_archers
	horse_archers_offensive = 1.75
	
	# light_infantry
	light_infantry_offensive = 1.75
	archmage_offensive = 1.75
	
	# heavy_infantry
	heavy_infantry_offensive = 1.75
	undead_offensive = 1.75
	elite_infantry_offensive = 1.75
	swarm_offensive = 1.75
	thralls_offensive = 1.75
	
	# light_cavalry
	light_cavalry_offensive = 1.75
	animals_offensive = 1.75
	
	# knights
	knights_offensive = 1.75
	dragons_offensive = 1.75
	
	# archers
	archers_offensive = 1.75
	siege_machines_offensive = 1.75

	enemy = {
		group = charge
		factor = 3
	}
}

# Warcraft

###########################

clever_ambush_tactic = {
	days = 18
	sprite = 1
	group = stand_fast

	trigger = {
		phase = melee
		light_cavalry_units_010_tactic_trigger = yes
		heavy_infantry_units_010_tactic_trigger = yes
		flank_has_leader = yes
		leader = {
			OR = {
				trait = trickster
				trait = quick
				trait = genius
				trait = shrewd
			}
			NOR = {
				any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } }
				AND = { 
					OR = { 
						is_ruler = no 
						is_playable = no
					}
					liege = { any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } } }
				}
			}
		}
		location = {
			OR = {
				terrain = forest
				terrain = hills
				terrain = mountain
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			light_cavalry_troops_020_tactic_trigger = yes
			heavy_infantry_troops_020_tactic_trigger = yes
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = trickster
			}
			light_cavalry_troops_020_tactic_trigger = yes
			heavy_infantry_troops_020_tactic_trigger = yes
		}
	}
	
	# horse_archers
	horse_archers_offensive = 1.2
	
	# light_infantry
	light_infantry_offensive = 1.2
	archmage_offensive = 1.2
	
	# heavy_infantry # 0.5 of vanilla light_infantry
	heavy_infantry_offensive = 0.6
	undead_offensive = 0.6
	elite_infantry_offensive = 0.6
	swarm_offensive = 0.6
	thralls_offensive = 0.6
	
	# light_cavalry
	light_cavalry_offensive = 2.4
	animals_offensive = 2.4

	# archers
	archers_offensive = 1.2
	siege_machines_offensive = 1.2
	
	enemy = {
		group = advance
		factor = 3
	}
}

religious_fervour_tactic = {
	days = 18
	sprite = 9
	group = advance

	trigger = {
		phase = melee
		flank_has_leader = yes
		OR = {
			leader = {
				trait = zealous
				trait = inspiring_leader
			}
			leader = { trait = possessed }
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = possessed
			}
		}
	}

	# horse_archers
	horse_archers_offensive = 1.5
	
	# large_cavalry
	large_cavalry_offensive = 1.5
	
	# light_infantry
	light_infantry_offensive = 1.5
	archmage_offensive = 1.5
	
	# heavy_infantry
	heavy_infantry_offensive = 1.5
	undead_offensive = 1.5
	elite_infantry_offensive = 1.5
	swarm_offensive = 1.5
	thralls_offensive = 1.5
	
	# pikemen
	pikemen_offensive = 1.5
	war_machines_offensive = 1.5
	
	# light_cavalry
	light_cavalry_offensive = 1.5
	animals_offensive = 1.5
	
	# knights
	knights_offensive = 1.5
	dragons_offensive = 1.5
	
	# archers
	archers_offensive = 1.5
	siege_machines_offensive = 1.5
}

############################
# Culture Specific Tactics #
############################

# Warcraft

# War Elephants - WARCRAFT LARGE CAVALRY/INFANTRY
crushing_charge_tactic = {
	days = 10
	sprite = 3 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		
		OR = {
			large_cavalry = 0.01
			pikemen_units_020_tactic_trigger = yes
			knights_units_020_tactic_trigger = yes
		}

		days = 10 # duration of combat >= 10 days
	}

	mean_time_to_happen = {
		days = 2 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			large_cavalry = 0.04
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			large_cavalry = 0.03
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 18
			}
			large_cavalry = 0.02
		}
		modifier = {
			factor = 8
			flank_has_leader = yes
			leader = {
				martial = 18
			}
			OR = {
				pikemen_troops_040_tactic_trigger = yes
				knights_troops_040_tactic_trigger = yes
			}
		}
	}

	change_phase_to = melee
	
	# large_cavalry
	large_cavalry_offensive = 2.5 
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = 1.75
	war_machines_offensive = 1.75

	# knights # replaces vanilla knights
	knights_offensive = 1.75
	dragons_offensive = 1.75
}

gray_wall_tactic = {
	days = 12
	sprite = 10 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		large_cavalry = 0.025
	}

	mean_time_to_happen = {
		days = 5
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_infantry_troops_030_tactic_trigger = yes
				archers_troops_030_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			large_cavalry = 0.05
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			large_cavalry = 0.075
		}
	}
	
	# horse_archers
	horse_archers_defensive = -0.5
	
	# large_cavalry
	large_cavalry_defensive = 1.5
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_defensive = 2.4
	archmage_defensive = 2.4
	
	# heavy_infantry # average of vanilla heavy_infantry and light_infantry
	heavy_infantry_defensive = 2.1
	undead_defensive = 2.1
	elite_infantry_defensive = 2.1
	swarm_defensive = 2.1
	thralls_defensive = 2.1
	
	# pikemen # repalces vanilla knights
	pikemen_defensive = -0.5
	war_machines_defensive = -0.5
	
	# light_cavalry
	light_cavalry_defensive = -0.5
	animals_defensive = -0.5
	
	# knights # replaces vanilla knights
	knights_defensive = -0.5
	dragons_defensive = -0.5
	
	# archers
	archers_offensive = 1.2
	siege_machines_offensive = 1.2
	archers_defensive = 0.6
	siege_machines_defensive = 0.6
}

force_back_tactic = {
	days = 24
	sprite = 1
	group = stand_fast

	trigger = {
		phase = melee
		OR = {
			large_cavalry = 0.005
			light_infantry_units_030_tactic_trigger = yes
			heavy_infantry_units_030_tactic_trigger = yes
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_infantry_troops_070_tactic_trigger = yes
				heavy_infantry_troops_030_tactic_trigger = yes
				troops = {
					who = large_cavalry
					value = 0.04
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_infantry_troops_060_tactic_trigger = yes
				heavy_infantry_troops_030_tactic_trigger = yes
				troops = {
					who = large_cavalry
					value = 0.02
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_infantry_troops_050_tactic_trigger = yes
				heavy_infantry_troops_030_tactic_trigger = yes
				troops = {
					who = large_cavalry
					value = 0.01
				}
			}
		}
	}
	
	# horse_archers
	horse_archers_offensive = -1.0
	
	# large_cavalry
	large_cavalry_offensive = 1.2
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = 2.4
	archmage_offensive = 2.4
	
	# heavy_infantry
	heavy_infantry_offensive = 1.6
	undead_offensive = 1.6
	elite_infantry_offensive = 1.6
	swarm_offensive = 1.6
	thralls_offensive = 1.6
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = -1.8
	war_machines_offensive = -1.8
	
	# light_cavalry
	light_cavalry_defensive = -0.2
	animals_defensive = -0.2
	
	# knights
	knights_offensive = -1.8
	dragons_offensive = -1.8
	
	# archers
	archers_offensive = -1.0
	siege_machines_offensive = -1.0
	
	enemy = {
		group = charge
		factor = 3
	}
}

elephant_trample_tactic = {
	days = 12
	sprite = 3
	group = advance

	trigger = {
		phase = melee
		large_cavalry = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_infantry_troops_070_tactic_trigger = yes
				heavy_infantry_troops_030_tactic_trigger = yes
				troops = {
					who = large_cavalry
					value = 0.04
				}
				pikemen_troops_030_tactic_trigger = yes
				knights_troops_030_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_infantry_troops_060_tactic_trigger = yes
				heavy_infantry_troops_030_tactic_trigger = yes
				troops = {
					who = large_cavalry
					value = 0.02
				}
				pikemen_troops_030_tactic_trigger = yes
				knights_troops_030_tactic_trigger = yes
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_infantry_troops_050_tactic_trigger = yes
				heavy_infantry_troops_030_tactic_trigger = yes
				troops = {
					who = large_cavalry
					value = 0.01
				}
				pikemen_troops_030_tactic_trigger = yes
				knights_troops_030_tactic_trigger = yes
			}
		}
	}
	
	# horse_archers
	horse_archers_offensive = -1.0
	
	# large_cavalry
	large_cavalry_defensive = -0.4
	large_cavalry_offensive = 2.5
	
	# light_infantry # replaces vanilla pikemen
	light_infantry_offensive = 2.0
	archmage_offensive = 2.0
	
	# heavy_infantry
	heavy_infantry_offensive = 2.0
	undead_offensive = 2.0
	elite_infantry_offensive = 2.0
	swarm_offensive = 2.0
	thralls_offensive = 2.0
	
	# pikemen # replaces vanilla knights
	pikemen_offensive = 2.0
	war_machines_offensive = 2.0
	
	# light_cavalry
	light_cavalry_defensive = -0.2
	animals_defensive = -0.2
	light_cavalry_offensive = 0.5
	animals_offensive = 0.5
	
	# knights # replaces vanilla knights
	knights_offensive = 2.0
	dragons_offensive = 2.0
	
	# archers
	archers_offensive = -1.0
	siege_machines_offensive = -1.0
}

##########################################################################
# Siege offensive tactics
##########################################################################
# Must be first "siege = attacker"
no_siege_offense_tactic = {
	days = 1 # tactic lasts one day
	sprite = 1 # index of icon
	
	siege = attacker	
	
	trigger = {
		always = no # never use unless set explicitly by code
	}
}

default_siege_offense_tactic = {
	days = 5
	sprite = 1

	siege = attacker	

	trigger = {
		always = yes
	}

	mean_time_to_happen = {
		days = 10
	}
}


##########################################################################
# Siege defensive tactics
##########################################################################

# Must be first "siege = defender"
no_siege_defense_tactic = {
	days = 1 # tactic lasts one day
	sprite = 1 # index of icon
	siege = defender	
	trigger = {
		always = no # never use unless set explicitly by code
	}
}

default_siege_defense_tactic = {
	days = 5
	sprite = 1

	siege = defender
	
	trigger = {
		always = yes
	}

	mean_time_to_happen = {
		days = 10
	}
}


##########################################################################
# Combat MTTH definitions(do not remove)
##########################################################################

flank_retreat_odds =
{
	# MTTH range is 0-100, if flank morale is below MTTH, flank will retreat
	mean_time_to_happen = {
		days = 20
	}
}

flank_pursue_odds =
{
	# MTTH range is 0-100, chance (in %) of pursuing a fleeing flank
	mean_time_to_happen = {
		days = 25
	}
}
